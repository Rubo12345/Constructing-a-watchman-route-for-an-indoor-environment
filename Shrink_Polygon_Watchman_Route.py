from typing import Final
import numpy as np
import matplotlib.pyplot as plt
import Shrink_Polygon_AGP

SP = Shrink_Polygon_AGP

#Keep the polygon same in both the codes (this code, and shrink_polygon_AGP.py)

'''# P = [(24970,19250),(23600,19250),(20740,22110),(22790,24160),(19395,27554),\
#     (17345,25504),(15560,27289),(15560,30215),(11165,30215),(11165,27915),\
#     (12435,27915),(15220,24415),(12445,21630),(16865,17210),(19650,19995),\
#     (23600,16045),(24970,16045)]
# P = [(20,140),(0,140),(-50,70),(0,0),(20,-20),(40,0),(40,40),\
#     (40,40),(80,40),(80,0),(140,-50),(200,0),(200,60),(150,60),(150,100),\
#     (200,100),(200,140),(160,140),(160,160),(100,160),(100,140),(60,140),(60,160),(20,160)] 

# P = [(12,3),(8,8),(14,8),(9,11),(4,8),\
#        (6,5),(2,8.5),(4,11),(0.5,11),(-2,7.5),(2,6),(-3,6),\
#        (-2,3),(3,0),(4,2),(8,0),(14,0),(16,2),(15,8),(13,7)]'''

P = [(250,190),(236,192),(207,221),(227,241),(193,275)\
    ,(173,255),(155,272),(155,302),(164,302),(164,315)\
    ,(206,315),(206,337),(233,337),(233,311),(257,311)\
    ,(257,414),(167,414),(167,394),(100,394),(100,414)\
    ,(43,414),(43,394),(13,394),(13,313),(35,313)\
    ,(35,343),(62,343),(62,290),(47,290),(47,265)\
    ,(20,265),(20,286),(0,286),(0,211),(119,211),(124,216)\
    ,(168,172),(146,149),(164,131),(144,112),(126,130)\
    ,(90,94),(114,70),(114,48),(195,48),(195,92),(262,92)\
    ,(262,70),(320,70),(320,97),(365,97),(365,150)\
    ,(343,150),(343,128),(314,128),(314,192),(343,192)\
    ,(343,170),(374,170),(374,234),(343,234),(343,260)\
    ,(283,260),(283,242),(249,242)]

P = [(12,3),(8,8),(14,8),(9,11),(4,8),(6,5),(2,8.5),(4,11),(0.5,11),(-2,7.5),(2,6),(-3,6),(-2,3),(3,0),(4,2),(8,0),(14,0),(16,2),(15,8),(13,7)]

# P = [(25,19),(23,19),(21,22),(23,24),(19,28)\
#     ,(17,26),(16,27),(16,30),(16,30),(16,32)\
#     ,(21,32),(21,34),(23,34),(23,31),(26,31)\
#     ,(26,41),(17,41),(17,39),(10,39),(10,41)\
#     ,(4,41),(4,39),(1,39),(1,31),(3,31)\
#     ,(3,34),(6,34),(6,29),(5,29),(5,27)\
#     ,(2,27),(2,29),(0,29),(0,21),(12,21),(12,22)\
#     ,(17,17),(15,15),(16,13),(14,11),(13,13)\
#     ,(9,9),(11,7),(11,5),(20,5),(20,9),(26,9)\
#     ,(26,7),(32,7),(32,10),(37,10),(37,15)\
#     ,(34,15),(34,13),(31,13),(31,19),(34,19)\
#     ,(34,17),(37,17),(37,23),(34,23),(34,26)\
#     ,(28,26),(28,24),(25,24)]

P = [(10, 36), (10, 31), (16, 29), (15, 22), (9, 22), (9, 13), (14, 9), (14, 13), (22, 13), (22, 4), (31, 5), \
        (25, 13), (25, 17), (35, 17), (35, 12), (30, 13), (34, 4), (42, 4), (42, -2), (48, -2), (48, 9), (54, 5), \
        (54, 15), (50, 15), (50, 22), (58, 22), (58, 33), (55, 33), (55, 29), (49, 37), (42, 30), (36, 30), (36, 36),\
        (41, 36), (40, 43), (31, 43), (31, 37), (16, 37), (16,31)]

P = [(66, -22), (52, 4), (65, 4), (66,-1), (78, -4), (81,3), (78, 17), (89,15), (101, 20), (101, 31), (87, 35),
         (87,45), (63,44), (75,36), (68,25), (58,45), (49,36), (54, 29), (44,29), (44,22), (60, 22),
         (60,15), (36,15), (36, -8)]

P = [(10,10),(20,20),(10,50),(40,30),(50,70),(50,50),(100,100),(90,20)\
        ,(90,-30),(60,-10),(30,-30),(10,10)]   

P.reverse()   #already clockwise
P.append(P[0])
points = SP.shrink(P)
points.append(points[0])
# points = SP.sampling_points(points)
AAP = points
Pb = SP.create_point_pair(P)
Yx = SP.non_intersecting_diag(points,P,Pb)
Yn = SP.mini_chk_pts(Pb,points,P,Yx)
Final_Diagonals = SP.clean_up_final(Yn)
Guards = SP.Guards(Final_Diagonals)
print(Guards)
''' Below is the code for Watchmen Route'''
SP.plt_plot(P,Yn)

''' Add the watchman code below'''
# [(40.0, 139.59183673469389), (100.0, 58.96668365142222)]